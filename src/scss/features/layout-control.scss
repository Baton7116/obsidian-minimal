/* MIT License | Copyright (c) Stephan Ango (@kepano) 

Layout Control snippet for Obsidian

author: @kepano
version: 2.0.0

Support my work:
https://github.com/sponsors/kepano

*/
/* Requires Contextual Typography 2.2.1+ */

/* Switch to flexbox */

.contextual-typography .markdown-reading-view > .markdown-preview-view {
  padding-top:15px;
}
.contextual-typography .markdown-preview-view.markdown-preview-view .markdown-preview-sizer {
  display:flex;
  flex-direction:column;
  width:100%;
  max-width:100%;
  padding-left:0;
  padding-top:0;
}
.contextual-typography .markdown-preview-view .markdown-preview-sizer > div {
  width:var(--max-width);
  margin-left:auto;
  margin-right:auto;
}
.contextual-typography .markdown-preview-view.is-readable-line-width .markdown-preview-sizer {
  align-items:center;
  padding-left:0;
}
.contextual-typography .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > div {
  max-width:var(--max-width);
  width:var(--line-width-adaptive);
}
.contextual-typography .markdown-preview-view.is-readable-line-width .markdown-embed .markdown-preview-sizer > div {
  max-width:100%;
}
.contextual-typography .markdown-preview-view p,
.contextual-typography .markdown-preview-view ol,
.contextual-typography .markdown-preview-view ul {
  margin-block-start:0.5em;
  margin-block-end:0.5em;
}
.contextual-typography .markdown-preview-view ul ol,
.contextual-typography .markdown-preview-view ol ol,
.contextual-typography .markdown-preview-view ol ul,
.contextual-typography .markdown-preview-view ul ul {
  margin-block-start:0em;
  margin-block-end:0em;
}
.contextual-typography .markdown-preview-view h1,
.contextual-typography .markdown-preview-view h2,
.contextual-typography .markdown-preview-view h3,
.contextual-typography .markdown-preview-view h4,
.contextual-typography .markdown-preview-view h5,
.contextual-typography .markdown-preview-view h6 {
  margin-block-start:0.4em;
  margin-block-end:0.4em;
}
.contextual-typography .markdown-preview-view .markdown-preview-sizer > .el-table,
.contextual-typography .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-table,
.contextual-typography .markdown-preview-view .markdown-preview-sizer > .el-lang-dataview,
.contextual-typography .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-dataview {
  width:100%;
  max-width:100%;
  overflow-x:scroll;
}
.el-table,
.el-lang-dataview .block-language-dataview > h4,
.el-lang-dataview .dataview.result-group,
.el-lang-dataview .dataview.list-view-ul,
.el-lang-dataview .block-language-dataview .contains-task-list,
.el-lang-dataview .dataview.dataview-error {
  max-width:var(--max-width);
  width:var(--line-width-adaptive);
  margin-left:auto;
  margin-right:auto;
}

.el-table table,
.el-lang-dataview .dataview.table-view-table {
  width:var(--max-width);
  max-width:var(--line-width-adaptive);
  margin:0 auto 0.5rem;
}
.markdown-embed .el-table table,
.markdown-embed .el-lang-dataview .dataview.table-view-table {
  width:100%;
}

/* Dataview and tables */
.table-100 .el-table table,
.table-100 .el-lang-dataview .dataview.table-view-table {
  max-width:100%;
  width:100%;
}
.markdown-preview-view.table-100 .el-table table,
.markdown-preview-view.table-100 .el-lang-dataview .dataview.table-view-table {
  max-width:100% !important;
  width:100% !important;
}
.table-max .el-table table,
.table-max .el-lang-dataview .dataview.table-view-table {
  max-width:100%;
}
.markdown-preview-view.table-max .el-table table,
.markdown-preview-view.table-max .el-lang-dataview .dataview.table-view-table {
  max-width:100% !important;
}
.table-wide .markdown-preview-view.is-readable-line-width .el-table table,
.markdown-preview-view.is-readable-line-width.table-wide .el-table table,
.table-wide .markdown-preview-view.is-readable-line-width .el-lang-dataview .dataview.table-view-table,
.markdown-preview-view.is-readable-line-width.table-wide .el-lang-dataview .dataview.table-view-table {
  max-width:var(--line-width-wide)  !important;
}
.table-100 table th:first-child,
.table-100 table td:first-child,
.table-100 .dataview.table-view-table th:first-child,
.table-100 .dataview.table-view-table td:first-child {
  padding-left:20px;
}
.table-100 table th:last-child,
.table-100 table td:last-child,
.table-100 .dataview.table-view-table th:last-child,
.table-100 .dataview.table-view-table td:last-child {
  padding-right:20px;
}

/* Maps, images and iframes */
.contextual-typography.chart-max .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-chart,
.contextual-typography .markdown-preview-view.is-readable-line-width.chart-max .markdown-preview-sizer > .el-lang-chart,
.contextual-typography.map-max .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-leaflet,
.contextual-typography .markdown-preview-view.is-readable-line-width.map-max .markdown-preview-sizer > .el-lang-leaflet,
.contextual-typography.iframe-max .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-iframe,
.contextual-typography .markdown-preview-view.is-readable-line-width.iframe-max .markdown-preview-sizer > .el-iframe,
.contextual-typography.img-max .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-embed-image,
.contextual-typography .markdown-preview-view.is-readable-line-width.img-max .markdown-preview-sizer > .el-embed-image {
  width:100%;
}
.contextual-typography.chart-wide .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-chart,
.contextual-typography .markdown-preview-view.is-readable-line-width.chart-wide .markdown-preview-sizer > .el-lang-chart,
.contextual-typography.map-wide .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-leaflet,
.contextual-typography .markdown-preview-view.is-readable-line-width.map-wide .markdown-preview-sizer > .el-lang-leaflet,
.contextual-typography.iframe-wide .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-iframe,
.contextual-typography .markdown-preview-view.is-readable-line-width.iframe-wide .markdown-preview-sizer > .el-iframe,
.contextual-typography.img-wide .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-embed-image,
.contextual-typography .markdown-preview-view.is-readable-line-width.img-wide .markdown-preview-sizer > .el-embed-image {
  width:var(--line-width-wide);
}
.contextual-typography.chart-100 .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-chart,
.contextual-typography .markdown-preview-view.is-readable-line-width.chart-100 .markdown-preview-sizer > .el-lang-chart,
.contextual-typography.map-100 .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-leaflet,
.contextual-typography .markdown-preview-view.is-readable-line-width.map-100 .markdown-preview-sizer > .el-lang-leaflet,
.contextual-typography.iframe-100 .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-iframe,
.contextual-typography .markdown-preview-view.iframe-100 .markdown-preview-sizer > .el-iframe,
.contextual-typography.img-100 .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-embed-image,
.contextual-typography .markdown-preview-view.img-100 .markdown-preview-sizer > .el-embed-image {
  width:100%;
  max-width:100%;
}

/* Live Preview */
.is-live-preview.is-readable-line-width .mod-empty,
.is-live-preview.is-readable-line-width .cm-embed-block > div {
  width:var(--line-width) !important;
  margin:0 auto !important;
  padding-left:var(--folding-offset);
}
.chart-max.is-live-preview.is-readable-line-width .block-language-chart,
.chart-max .is-live-preview.is-readable-line-width .block-language-chart,
.map-max.is-live-preview.is-readable-line-width .block-language-leaflet,
.map-max .is-live-preview.is-readable-line-width .block-language-leaflet,
.table-max.is-live-preview.is-readable-line-width .cm-table-widget > table,
.table-max .is-live-preview.is-readable-line-width .cm-table-widget > table,
.table-max.is-live-preview.is-readable-line-width .cm-embed-block > .block-language-dataview,
.table-max .is-live-preview.is-readable-line-width .cm-embed-block > .block-language-dataview,
.img-max.is-live-preview.is-readable-line-width .cm-content > .image-embed,
.img-max .is-live-preview.is-readable-line-width .cm-content > .image-embed {
  width:var(--max-width) !important;
  padding-left:0;
}
.chart-wide.is-live-preview.is-readable-line-width .block-language-chart,
.chart-wide .is-live-preview.is-readable-line-width .block-language-chart,
.map-wide.is-live-preview.is-readable-line-width .block-language-leaflet,
.map-wide .is-live-preview.is-readable-line-width .block-language-leaflet,
.table-wide.is-live-preview.is-readable-line-width .cm-table-widget > table,
.table-wide .is-live-preview.is-readable-line-width .cm-table-widget > table,
.table-wide.is-live-preview.is-readable-line-width .cm-embed-block > .block-language-dataview,
.table-wide .is-live-preview.is-readable-line-width .cm-embed-block > .block-language-dataview,
.img-wide.is-live-preview.is-readable-line-width .cm-content > .image-embed,
.img-wide .is-live-preview.is-readable-line-width .cm-content > .image-embed {
  width:var(--line-width-wide) !important;
  max-width:var(--max-width);
  padding-left:0;
}
/* Make sure the table fills the width of the parent dataview block,
as opposed to regular tables */
.contextual-typography .is-live-preview.is-readable-line-width .list-view-ul,
.is-live-preview.is-readable-line-width .cm-embed-block > .block-language-dataview table {
  width:100%;
  max-width:100%;
}
.chart-100.is-live-preview.is-readable-line-width .block-language-chart,
.chart-100 .is-live-preview.is-readable-line-width .block-language-chart,
.map-100.is-live-preview.is-readable-line-width .block-language-leaflet,
.map-100 .is-live-preview.is-readable-line-width .block-language-leaflet,
.table-100.is-live-preview.is-readable-line-width table,
.table-100 .is-live-preview.is-readable-line-width table,
.table-100.is-live-preview.is-readable-line-width .cm-embed-block > .block-language-dataview,
.table-100 .is-live-preview.is-readable-line-width .cm-embed-block > .block-language-dataview,
.img-100.is-live-preview.is-readable-line-width .cm-content > .image-embed,
.img-100 .is-live-preview.is-readable-line-width .cm-content > .image-embed {
  width:100% !important;
  max-width:100% !important;
  padding-left:0;
}


/* Mobile */
@media (max-width:400pt) {
  .markdown-preview-view .el-table th:first-child,
  .markdown-preview-view .el-table td:first-child,
  .markdown-preview-view .el-lang-dataview th:first-child,
  .markdown-preview-view .el-lang-dataview td:first-child {
    padding-left:6vw;
  }
  .markdown-preview-view .el-table th:last-child,
  .markdown-preview-view .el-table td:last-child,
  .markdown-preview-view .el-lang-dataview th:last-child,
  .markdown-preview-view .el-lang-dataview td:last-child {
    padding-right:6vw;
  }
  .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-table,
  .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-dataview {
    padding-left:0;
    padding-right:0;
  }
  .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-table,
  .markdown-preview-view .table-view-table table,
  .markdown-preview-view.is-readable-line-width .markdown-preview-sizer > .el-lang-dataview {
    width:100%;
  }
}