/* MIT License | Copyright (c) Stephan Ango (@kepano) 

Labeled Nav snippet for Obsidian

author: @kepano
version: 1.2.0

Support my work:
https://github.com/sponsors/kepano

*/

.labeled-nav {

	&.is-hidden-frameless:not(.is-fullscreen) .mod-left-split .workspace-tabs.mod-top-left-space {
		.workspace-tab-header-container {
			padding-left: 0;
		}
	}

	&.is-hidden-frameless {
		.workspace-ribbon.mod-left:not(.is-collapsed) {
			&:before {
				border: none;
			}
		}
	}
	&.is-frameless:not(.is-hidden-frameless) {
		.mod-left-split .mod-top {
			--tab-container-background: var(--background-secondary);
		}
	}

}

.labeled-nav .mod-left-split.is-sidedock-collapsed .mod-top {
	.workspace-tab-container-inner {
		margin-top: calc(var(--header-height) - 1px);
	}
}

.labeled-nav {

	.mod-left-split .mod-top {

		.workspace-tab-header-spacer {
			display:none
		}
		.workspace-tab-header-inner-title {
			display: inline-block;
			font-weight: 500;
			font-size: var(--font-adaptive-smaller);
		}
		.workspace-tab-header-container {
			flex-direction: column-reverse !important;
			height: auto;
			width: 100%;
			&:before {
				border-bottom: var(--divider-width) solid var(--tab-outline-color);
				background-color: var(--titlebar-background);
				content: '';
				height: calc(var(--header-height) - var(--tab-outline-width));
			}
			.sidebar-toggle-button.mod-left {
				flex-shrink: 1;
				width: 46px;
				margin-left: auto;
			}
			.workspace-tab-header-container-inner {
				flex-direction: column !important;
			}
			.workspace-tab-container-inner {
				flex-grow: 1;
				gap: 0;
				padding: var(--size-4-2) var(--size-4-3);
			}
		}

		.workspace-tab-header {
			padding: 0;
			margin-bottom:2px;
			border:none;
			height:auto;

			&.is-active:not(:hover) {
				background-color: transparent;
			}
			&.is-active,
			&:hover {
				opacity:1;
				--tab-text-color-focused: var(--text-normal);
				--icon-color: var(--text-normal);
			}
			.workspace-tab-header-inner {
				gap: var(--size-2-3);
				padding: var(--size-4-1) var(--size-4-2);
				box-shadow:none;
				border:none;
			}

		}
		.workspace-tab-header:hover .workspace-tab-header-inner-icon,
		.workspace-tab-header.is-active .workspace-tab-header-inner-icon {
			color:var(--icon-color-active);
		}
		.workspace-tab-header-container {
			border:none;
			padding:0;
		}
	}

}
